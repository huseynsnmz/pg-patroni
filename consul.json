vi /etc/consul.d/consul.json

CONSUL
{
    "bootstrap": true,
    "server": true,
    "datacenter": "dc1",
    "data_dir": "/var/consul",
    "encrypt": "[output of consul keygen]"
}

systemctl start consul.service

PRIMARY
{
  "node_name": "consul-b",
  "bootstrap": false,
  "data_dir": "/var/lib/consul",
  "server": true,
  "bind_addr": "178.128.42.130",
  "bootstrap_expect": 3,
  "ui": true,
  "client_addr": "0.0.0.0",
  "start_join": ["138.68.137.54","46.101.53.213"]
}

systemctl start consul.service

STANDBY

{
  "node_name": "consul-c",
  "bootstrap": false,
  "data_dir": "/var/lib/consul",
  "server": true,
  "bind_addr": "46.101.53.213",
  "bootstrap_expect": 3,
  "ui": true,
  "client_addr": "0.0.0.0",
  "start_join": ["138.68.137.54","178.128.42.130"]
}

systemctl start consul.service

CONSUL

{
  "node_name": "consul-a",
  "bootstrap": false,
  "datacenter": "dc1",
  "data_dir": "/var/lib/consul",
  "server": true,
  "bind_addr": "138.68.137.54",
  "bootstrap_expect": 3,
  "ui": true,
  "client_addr": "0.0.0.0",
  "start_join": ["178.128.42.130","46.101.53.213"]
}

systemctl restart consul.service
